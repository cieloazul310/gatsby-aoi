---
title: Gatsby Theme Aoi でメニューを設定する
date: 2022-01-29T00:00:00.000Z
categories: ["Gatsby Theme Aoi"]
tags: []
author: cieloazul310
image: https://images.microcms-assets.io/assets/d87f2876d9644eb7b41170736931d50c/f04f897a2cae4ca58191c6d6864b4bf7/IMG_9034.jpeg
imageAlt: メジロかわいいよメジロ
---

import { AppLink } from '@cieloazul310/gatsby-theme-aoi';

Gatsby Theme Aoi の Aoi レイアウト内にサイトコンテンツのメニューを設定する方法を説明します。[Gatsby テーマ]の [Shadowing] という機能を使いますが、今はまだ Shadowing を理解する必要はありません。

### Menu ファイルを作成

Gatsby プロジェクトの `src` ディレクトリに、`@cieloazul310/gatsby-theme-aoi-layout` というディレクトリを作成し、`menu.tsx` を作成します。Gatsby Theme Aoi のスターターを使っている場合は既にファイルが存在しているはずです。

```shell
mkdir -p src/@cieloazul310/gatsby-theme-aoi-layout
touch src/@cieloazul310/gatsby-theme-aoi-layout/menu.tsx
```

Gatsby プロジェクトは以下のような構成になります。

```txt
.
├── gatsby-config.js
├── package.json
└── src
    ├── @cieloazul310
    │   └── gatsby-theme-aoi-layout
    │       └── menu.tsx
    └── pages
        ├── 404.tsx
        ├── index.tsx
        └── page-2.tsx
```

### Menu ファイルの中身

以下は作成した `./src/@cieloazul310/gatsby-theme-aoi-layout/menu.tsx` の例です。

`embed:ExampleCode-1.tsx`

これは実際にこのサイトで使われている `menu.tsx` です。
`title`, `path`, `icon` というプロパティを持つオブジェクトの配列を作成し、デフォルトエクスポートすることで、Aoi レイアウト内のメニューコンポーネントに反映することができます。

### Shadowing 第一歩

これは Gatsby テーマの Shadowing という機能を使っています。
Shadowing とは、`node_modules` にインストールされている特定のパッケージの `src` ディレクトリに含まれるファイルを独自の実装に置き換えることです。

今回の例では、  
`./src/@cieloazul310/gatsby-theme-aoi-layout/menu.tsx`  
というファイルが、  
`./node_modules/@cieloazul310/gatsby-theme-aoi-layout/src/menu.tsx`  
として機能しています。

`@cieloazul310/gatsby-theme-aoi-layout` というパッケージは、`@cieloazul310/gatsby-theme-aoi` に含まれている

[Gatsby]: https://gatsbyjs.com/ "Gatsby"
[MUI]: https://mui.org/ "MUI"
[TypeScript]: https://typescriptlang.org/ "TypeScript"

[Gatsby テーマ]: https://gatsbyjs.com/docs/themes/ "Themes"
[Gatsby スターター]: https://www.gatsbyjs.com/docs/starters/ "Gatsby Starters"
[Shadowing]: https://www.gatsbyjs.com/docs/how-to/plugins-and-themes/shadowing/ "Shadowing in Gatsby Themes"
[Gatsby Link]: https://www.gatsbyjs.com/docs/reference/built-in-components/gatsby-link/ "Gatsby Link API"
